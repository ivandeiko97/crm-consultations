(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-afd969c8"],{"580f":function(a,t,e){"use strict";e("b0c0"),e("ac1f"),e("5319");var n=e("5530"),i=e("ce96"),s=e("2f62");t["a"]={data:function(){return{valid:!0,name:"",nameRules:[function(a){return!!a||"Имя обязательно"}],surname:"",surnameRules:[function(a){return!!a||"Фамилия обязательна"}],patronymic:"",birthday:"",birthdayRules:[function(a){return!!a||"Дата рождения обязательна"}],male:"",maleRules:[function(a){return!!a||"Выберите пол"}],errorMale:!1,insurance:"",insuranceRules:[function(a){return!!a||"СНИЛС обязателен"},i["a"]]}},methods:Object(n["a"])(Object(n["a"])({},Object(s["b"])("notifications",["SHOW_NOTIFICATION","HIDE_NOTIFICATION"])),{},{validate:function(){this.$refs.form.validate()},createPatient:function(){return{name:this.name,surname:this.surname,patronymic:this.patronymic,birthday:Date.parse(this.birthday),male:this.male,insurance:this.insurance.replace(/\s/g,"")}},clearData:function(){this.name="",this.surname="",this.patronymic="",this.birthday="",this.male="",this.insurance="",this.$refs.form.resetValidation()},showNotification:function(a,t){this.SHOW_NOTIFICATION({text:a,isSuccess:t}),setTimeout(this.HIDE_NOTIFICATION,3e3)}})}},"765b":function(a,t,e){"use strict";e.r(t);var n=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-card",{staticClass:"d-flex justify-center ma-auto pa-3",attrs:{width:"300"}},[e("v-form",{ref:"form",staticClass:"d-flex flex-column",model:{value:a.valid,callback:function(t){a.valid=t},expression:"valid"}},[e("base-input",{attrs:{value:a.name,rules:a.nameRules,label:"Имя*"},model:{value:a.name,callback:function(t){a.name=t},expression:"name"}}),e("base-input",{attrs:{rules:a.surnameRules,label:"Фамилия*",required:""},model:{value:a.surname,callback:function(t){a.surname=t},expression:"surname"}}),e("base-input",{attrs:{label:"Отчество"},model:{value:a.patronymic,callback:function(t){a.patronymic=t},expression:"patronymic"}}),e("base-date-picker",{attrs:{date:a.birthday,rules:a.birthdayRules},on:{"change-date":function(t){a.birthday=t}}}),e("base-radio-male",{attrs:{value:a.male,rules:a.maleRules},model:{value:a.male,callback:function(t){a.male=t},expression:"male"}}),e("base-input",{attrs:{rules:a.insuranceRules,label:"СНИЛС*"},model:{value:a.insurance,callback:function(t){a.insurance=t},expression:"insurance"}}),e("base-button",{staticClass:"mt-3",attrs:{text:"Сохранить"},on:{click:a.savePatient}})],1)],1)},i=[],s=(e("b0c0"),e("5530")),r=e("580f"),c=e("2f62"),u={name:"edit-patient",mixins:[r["a"]],computed:Object(s["a"])({},Object(c["c"])("patients",["PATIENT"])),watch:{PATIENT:function(){this.setPatientData()}},methods:{setPatientData:function(){var a=this.PATIENT;if(a){var t=a.name,e=a.surname,n=a.patronymic,i=a.birthday,s=a.male,r=a.insurance;this.name=t,this.surname=e,this.patronymic=n,this.birthday=i,this.male=s,this.insurance=r}},savePatient:function(){if(this.validate(),this.valid){var a=this.createPatient();this.$store.dispatch("patients/EDIT_PATIENT",Object(s["a"])(Object(s["a"])({},a),{},{id:this.$route.params.id})),this.$router.back(),this.showNotification("Данные пациента изменены",!0)}}},mounted:function(){this.setPatientData()}},l=u,o=e("2877"),m=e("6544"),h=e.n(m),d=e("b0afa"),f=e("4bd4"),b=Object(o["a"])(l,n,i,!1,null,null,null);t["default"]=b.exports;h()(b,{VCard:d["a"],VForm:f["a"]})}}]);
//# sourceMappingURL=chunk-afd969c8.729401ee.js.map